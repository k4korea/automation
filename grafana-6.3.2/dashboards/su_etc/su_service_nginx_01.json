{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": "-- Grafana --",
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "type": "dashboard"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 2,
    "id": 48,
    "iteration": 1663131733674,
    "links": [],
    "liveNow": false,
    "panels": [
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${Datasource}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "dark-red",
                  "value": null
                },
                {
                  "color": "semi-dark-green",
                  "value": 1
                }
              ]
            },
            "unit": "bool"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 4,
          "x": 0,
          "y": 0
        },
        "id": 40,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.2",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "exemplar": true,
            "expr": "nginx_ingress_controller_leader_election_status > 0",
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "Ingress Controller",
            "refId": "A"
          }
        ],
        "title": "controller_leader_election_status",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${Datasource}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 4,
          "x": 4,
          "y": 0
        },
        "id": 39,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.2",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "exemplar": true,
            "expr": "sum(count(nginx_ingress_controller_config_hash))",
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "Ingress Controller",
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "exemplar": true,
            "expr": "sum(count(kube_node_info))",
            "hide": true,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "Worker Node",
            "refId": "B"
          }
        ],
        "title": "IngressController Count",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${Datasource}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 4,
          "x": 8,
          "y": 0
        },
        "id": 37,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.2",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "exemplar": true,
            "expr": "sum(avg_over_time(nginx_ingress_controller_nginx_process_connections{}[5m]))",
            "interval": "",
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "IngressController Connection",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "${Datasource}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 4,
          "x": 12,
          "y": 0
        },
        "id": 38,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.2",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "exemplar": true,
            "expr": "sum(nginx_ingress_controller_nginx_process_num_procs)",
            "interval": "",
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "IngressController Process",
        "type": "stat"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 6
        },
        "id": 7,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisGridShow": true,
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 1,
                  "pointSize": 0,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 17,
              "w": 15,
              "x": 0,
              "y": 7
            },
            "id": 48,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.4.2",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "kube_ingress_path{namespace=~\"$namespace\", service_name=~\"$service\"}",
                "hide": false,
                "interval": "",
                "legendFormat": "[Port] : {{service_port}}  ----->   [k8s service] : {{service_name}}      ------------------->  [host] : {{host}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "kube_ingress_path",
                "hide": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "service name : host name",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 9,
              "x": 15,
              "y": 7
            },
            "id": 43,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(kube_ingress_path) by (service_port)",
                "hide": false,
                "interval": "",
                "legendFormat": "service port : {{service_port}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_service_port",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 9,
              "x": 15,
              "y": 12
            },
            "id": 47,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(sum(kube_ingress_path)by(host))",
                "hide": false,
                "interval": "",
                "legendFormat": "Domain host count",
                "refId": "B"
              }
            ],
            "title": "Domain host count",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 9,
              "x": 15,
              "y": 16
            },
            "id": 46,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(kube_ingress_tls) by (secret)",
                "hide": false,
                "interval": "",
                "legendFormat": "secret : {{secret}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_service_port",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 9,
              "x": 15,
              "y": 20
            },
            "id": 44,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(kube_ingress_info{})by (ingressclass)",
                "hide": false,
                "interval": "",
                "legendFormat": "IngressClass Name : {{ingressclass}}",
                "refId": "B"
              }
            ],
            "title": "Ingress Class Name",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 0,
              "y": 24
            },
            "id": 35,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(avg_over_time(nginx_ingress_controller_nginx_process_connections{}[5m])) by (controller_pod)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{controller_pod}}",
                "refId": "B"
              }
            ],
            "title": "nginx_process_connections",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 24
            },
            "id": 49,
            "options": {
              "legend": {
                "calcs": [
                  "last"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.4.2",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(nginx_ingress_controller_config_last_reload_successful)by(controller_pod)",
                "hide": true,
                "interval": "",
                "legendFormat": "",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(time() - nginx_ingress_controller_nginx_process_oldest_start_time_seconds)by (controller_pod)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{controller_pod}}",
                "refId": "A"
              }
            ],
            "title": "Nginx Pod Start Time",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 12,
              "w": 12,
              "x": 12,
              "y": 36
            },
            "id": 50,
            "options": {
              "legend": {
                "calcs": [
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.4.2",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(time() -(nginx_ingress_controller_config_last_reload_successful_timestamp_seconds))by(controller_pod)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{controller_pod}} ",
                "refId": "B"
              }
            ],
            "title": "nginx_config_reload_day",
            "type": "timeseries"
          }
        ],
        "title": "Ingress Info",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 7
        },
        "id": 11,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 8
            },
            "id": 33,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.99,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 99% {{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.95,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 95%",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.90,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 90%",
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.50,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 50%",
                "refId": "D"
              }
            ],
            "title": "Response Duration",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 8
            },
            "id": 70,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "sortBy": "Max",
                "sortDesc": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.99,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le,host) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 99% : {{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.95,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le, host) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 95% : {{host}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.90,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le, host) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 90% : {{host}}",
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " histogram_quantile(0.50,sum(rate(nginx_ingress_controller_response_duration_seconds_bucket{  exported_namespace=~\"$namespace\" ,  exported_service=~\"$service\",status=~\"20.+\"}[5m]) ) by  (le, host) )",
                "hide": false,
                "interval": "",
                "legendFormat": "P 50% : {{host}}",
                "refId": "D"
              }
            ],
            "title": "Response Duration",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "smooth",
                  "lineWidth": 2,
                  "pointSize": 3,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "finance-comment-ingress"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 12,
              "w": 24,
              "x": 0,
              "y": 18
            },
            "id": 21,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" , status=~\"2.+\" }[1m])  ) by ( ingress)\r\n / on (ingress )\r\n sum( rate( nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" } [1m] )) by ( ingress) * 100",
                "hide": false,
                "interval": "",
                "legendFormat": "{{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" }[5m])  )",
                "hide": true,
                "interval": "",
                "legendFormat": "total",
                "refId": "B"
              }
            ],
            "title": "Success Rate 2xx  (%) ",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "smooth",
                  "lineWidth": 2,
                  "pointSize": 3,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "finance-comment-ingress"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 24,
              "x": 0,
              "y": 30
            },
            "id": 71,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Max",
                "sortDesc": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" , status!~\"2.+\" }[1m])  ) by ( ingress)\r\n / on (ingress )\r\n sum( rate( nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" } [1m] )) by ( ingress) * 100 ",
                "hide": false,
                "interval": "",
                "legendFormat": "{{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" }[5m])  )",
                "hide": true,
                "interval": "",
                "legendFormat": "total",
                "refId": "B"
              }
            ],
            "title": "Fail Rate ( 3xx, +4xx + 5xx (%) )",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "smooth",
                  "lineWidth": 2,
                  "pointSize": 3,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "finance-comment-ingress"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 40
            },
            "id": 74,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" , status=~\"5.+\" }[1m])  ) by ( ingress)\r\n ",
                "hide": false,
                "interval": "",
                "legendFormat": "{{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " avg( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" , status!~\"4.+\" }[1m])  ) by ( ingress)\r\n ",
                "hide": true,
                "interval": "",
                "legendFormat": "",
                "refId": "B"
              }
            ],
            "title": "HTTP 5xx Error",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "Only containers with resource limits set are displayed.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "smooth",
                  "lineWidth": 2,
                  "pointSize": 3,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "finance-comment-ingress"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 24,
              "x": 0,
              "y": 49
            },
            "id": 73,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" , status=~\"4.+\" }[1m])  ) by ( ingress)\r\n ",
                "hide": false,
                "interval": "",
                "legendFormat": "{{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " avg( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" , status!~\"4.+\" }[1m])  ) by ( ingress)\r\n ",
                "hide": true,
                "interval": "",
                "legendFormat": "",
                "refId": "B"
              }
            ],
            "title": "HTTP 4xx Error",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "smooth",
                  "lineWidth": 2,
                  "pointSize": 3,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "finance-mobile-ingress"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 58
            },
            "id": 72,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" , status=~\"3.+\" }[1m])  ) by ( ingress)\r\n ",
                "hide": false,
                "interval": "",
                "legendFormat": "{{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\" }[5m])  )",
                "hide": true,
                "interval": "",
                "legendFormat": "total",
                "refId": "B"
              }
            ],
            "title": "HTTP  3xx State",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "smooth",
                  "lineWidth": 2,
                  "pointSize": 3,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 58
            },
            "id": 78,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum( \r\n  time() - nginx_ingress_controller_ssl_expire_time_seconds{exported_namespace=~\"$namespace\"}\r\n  )by (host) ",
                "hide": false,
                "interval": "",
                "legendFormat": "{{host}}",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " time() - nginx_ingress_controller_ssl_expire_time_seconds{}  ",
                "hide": true,
                "interval": "",
                "legendFormat": "",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_ssl_expire_time_seconds ",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "reqeust  :  comment.investingview.io"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 14,
              "w": 24,
              "x": 0,
              "y": 68
            },
            "id": 64,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_request_size_sum{exported_namespace=~\"$namespace\", exported_service=~\"$service\"}[5m])) by (host)",
                "hide": false,
                "interval": "",
                "legendFormat": "reqeust  :  {{host}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_request_size_sum",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineStyle": {
                    "fill": "solid"
                  },
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "comment.finance.zum.com"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 10,
              "w": 24,
              "x": 0,
              "y": 82
            },
            "id": 77,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Max",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.4.2",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "(\r\n  sum(rate(nginx_ingress_controller_request_duration_seconds_sum{status!~\"2.+\",exported_namespace=~\"$namespace\", exported_service=~\"$service\" }[5m])) by (host ) \r\n   /\r\n  ( sum(rate(nginx_ingress_controller_request_size_sum{exported_namespace=~\"$namespace\", exported_service=~\"$service\"}[5m])) by (host)  / 1000 )\r\n)   > 0\r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "{{host}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "hide": false,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "hide": false,
                "refId": "C"
              }
            ],
            "title": "HTTP Request 중 시간 지연이 많은 서비스 ( request_dulation_sum / request_size_sum )",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "response : comment.finance.zum.com"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 13,
              "w": 24,
              "x": 0,
              "y": 92
            },
            "id": 63,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_response_size_sum{exported_namespace=~\"$namespace\", exported_service=~\"$service\"}[5m]))by(host)\r\n  \r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "response : {{host}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_response_size_sum",
            "type": "timeseries"
          }
        ],
        "title": "Domain( WWW )",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 8
        },
        "id": 58,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 114
            },
            "id": 55,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "\r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n  sum(rate(container_cpu_usage_seconds_total{container!~\"POD|\"}[5m])) by (pod) \r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_cpu (container_cpu_usage_seconds_total)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 12,
              "y": 114
            },
            "id": 54,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum( \r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n  sum(rate(container_cpu_usage_seconds_total{container!~\"POD|\"}[5m])) by (pod) \r\n)",
                "hide": false,
                "interval": "",
                "legendFormat": "cpu",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_cpu (container_cpu_usage_seconds_total)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 12,
              "y": 119
            },
            "id": 59,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "(\r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n  sum(rate(container_cpu_cfs_throttled_seconds_total{container!~\"POD|\" }[5m])) by (pod) \r\n) or vector(0)",
                "hide": false,
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(container_cpu_cfs_throttled_seconds_total{container!~\"POD|\" }[5m])) by (pod) or vector(0)",
                "hide": true,
                "interval": "",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "title": "nginx_ingress_cpu_throttle",
            "type": "timeseries"
          }
        ],
        "title": "CPU",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 9
        },
        "id": 9,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 0,
              "y": 10
            },
            "id": 53,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum( \r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n  sum( container_memory_working_set_bytes{container!~\"POD|\" }  ) by (pod) \r\n)",
                "hide": false,
                "interval": "",
                "legendFormat": "Memory",
                "refId": "B"
              }
            ],
            "title": "container_memory_working_set_bytes",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 12,
              "y": 10
            },
            "id": 42,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "8.4.2",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_nginx_process_virtual_memory_bytes[5m]))\r\n",
                "interval": "",
                "intervalFactor": 1,
                "legendFormat": "Total",
                "refId": "A"
              }
            ],
            "title": "ingress virtual memory byte",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 16
            },
            "id": 56,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "\r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n  sum( container_memory_working_set_bytes{container!~\"POD|\" }  ) by (pod) \r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "B"
              }
            ],
            "title": "container_memory_working_set_bytes",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 6,
              "w": 12,
              "x": 12,
              "y": 16
            },
            "id": 45,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_nginx_process_resident_memory_bytes{}[5m]))",
                "hide": false,
                "interval": "",
                "legendFormat": "Total",
                "refId": "B"
              }
            ],
            "title": "nginx_process_resident_memory",
            "type": "timeseries"
          }
        ],
        "title": "Memory",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 10
        },
        "id": 17,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 0,
              "y": 11
            },
            "id": 60,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_request_size_sum[5m]))\r\n  \r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "Controller ResponseSize Sum",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_request_size_sum",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 12,
              "y": 11
            },
            "id": 65,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_response_size_sum[5m]))",
                "hide": false,
                "interval": "",
                "legendFormat": "Controller ResponseSize Sum",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_reqeust_size_sum[5m])) * -1",
                "hide": false,
                "interval": "",
                "legendFormat": "Controller RequestSize Sum",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_response_size_sum",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "nginx-ingress-controller-9mn9j"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 16
            },
            "id": 66,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_request_size_sum[5m]))by(controller_pod)\r\n  \r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "{{controller_pod}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_request_size_sum",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 12,
              "y": 16
            },
            "id": 67,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(rate(nginx_ingress_controller_response_size_sum[5m]))by(controller_pod)\r\n  \r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "{{controller_pod}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_response_size_sum",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 0,
              "y": 27
            },
            "id": 68,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(\r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n   sum(rate(container_network_transmit_bytes_total{  interface=~\"et.+\"}[5m])) by(pod)\r\n)",
                "interval": "",
                "legendFormat": "Total Size",
                "refId": "A"
              }
            ],
            "title": "container_network_transmit_bytes_total",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "Total Size"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 5,
              "w": 12,
              "x": 12,
              "y": 27
            },
            "id": 62,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum(\r\n    (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n   sum(rate(container_network_receive_bytes_total{  interface=~\"et.+\"}[5m])) by(pod)\r\n)\r\n  \r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "Total Size",
                "refId": "B"
              }
            ],
            "title": "container_network_receive_bytes_total",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 32
            },
            "id": 18,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "\r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n   sum(rate(container_network_transmit_bytes_total{  interface=~\"et.+\"}[5m])) by(pod)",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "title": "container_network_transmit_bytes_total",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 12,
              "y": 32
            },
            "id": 76,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right"
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "\r\n  (count(nginx_ingress_controller_config_hash ) by( pod) ) \r\n* on(pod) group_left() \r\n   sum(rate(container_network_transmit_bytes_total{  interface=~\"et.+\"}[5m])) by(pod)",
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "A"
              }
            ],
            "title": "container_network_transmit_bytes_total",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": [],
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 43
            },
            "id": 75,
            "options": {
              "displayLabels": [
                "name",
                "value"
              ],
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "values": [
                  "value"
                ]
              },
              "pieType": "donut",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": "sum( rate(nginx_ingress_controller_requests{exported_namespace=~\"$namespace\", exported_service=~\"$service\"}[2m]) ) by (status)",
                "hide": false,
                "interval": "",
                "legendFormat": "HTTP Status : {{status}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_ingress_upstream_latency_seconds_sum",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "${Datasource}"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 12,
              "y": 43
            },
            "id": 69,
            "options": {
              "legend": {
                "calcs": [
                  "max",
                  "lastNotNull"
                ],
                "displayMode": "table",
                "placement": "right",
                "sortBy": "Last *",
                "sortDesc": true
              },
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "${Datasource}"
                },
                "exemplar": true,
                "expr": " sum( rate(nginx_ingress_controller_ingress_upstream_latency_seconds_sum[2m]) ) by (controller_pod) \r\n /\r\n sum( rate(nginx_ingress_controller_ingress_upstream_latency_seconds_count[2m]) ) by (controller_pod)  * 1000\r\n",
                "hide": false,
                "interval": "",
                "legendFormat": "{{pod}}",
                "refId": "B"
              }
            ],
            "title": "nginx_ingress_controller_ingress_upstream_latency_seconds_sum",
            "type": "timeseries"
          }
        ],
        "title": "Network",
        "type": "row"
      }
    ],
    "refresh": false,
    "schemaVersion": 35,
    "style": "dark",
    "tags": [
      "Copyrightⓒ. PSA AiOps HS&EV All Rights Reserved",
      "mzc_tm_aiops@megazone.com"
    ],
    "templating": {
      "list": [
        {
          "current": {
            "selected": false,
            "text": "",
            "value": ""
          },
          "hide": 0,
          "includeAll": false,
          "multi": false,
          "name": "Datasource",
          "options": [],
          "query": "prometheus",
          "queryValue": "",
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "type": "datasource"
        },
        {
          "current": {
            "selected": true,
            "text": [
              "All"
            ],
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${Datasource}"
          },
          "definition": "label_values(kube_namespace_labels, namespace)",
          "hide": 0,
          "includeAll": true,
          "multi": true,
          "name": "namespace",
          "options": [],
          "query": {
            "query": "label_values(kube_namespace_labels, namespace)",
            "refId": "StandardVariableQuery"
          },
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 1,
          "type": "query"
        },
        {
          "current": {
            "selected": true,
            "text": [
              "All"
            ],
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "${Datasource}"
          },
          "definition": "label_values(kube_service_info{namespace=~\"$namespace\"},service)\n\n",
          "hide": 0,
          "includeAll": true,
          "multi": true,
          "name": "service",
          "options": [],
          "query": {
            "query": "label_values(kube_service_info{namespace=~\"$namespace\"},service)\n\n",
            "refId": "StandardVariableQuery"
          },
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 1,
          "type": "query"
        }
      ]
    },
    "time": {
      "from": "now-6h",
      "to": "now"
    },
    "timepicker": {},
    "timezone": "",
    "title": "PSA Aiops - Su Dashboard - Service Nginx # 01",
    "uid": "mHP5dPZ4z",
    "version": 2,
    "weekStart": ""
  }